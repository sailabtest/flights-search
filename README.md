# About Flight Search App #
This project is about flight search engine that allows you to search for flights and calculates CO2 emissions based on the fligh distance.  
You will be able to search for flights based on the departure city, destination city and flight date. 


## Prerequisites ##
- Node.js '18.13.0'
- Typescript
- React
- PostgreSQL
- Redis


## Project Setup & Installation Guide ##
Install and run the project using the following instructions on your local machine. Both the fontend and backend should be running separately.

**Steps**
1. Clone the project from Github repository 
  - `git clone https://github.com/sailabtest/flight-search-project.git`
	- `cd flight-search-project`

2. Install and run the PostgreSQL database then add the sample flight data into the PostgreSQL database
  - Generate the postgreSQL database from file: `./database/db_create.sql`
  - Insert the data into the table from file: `./database/db_insert.sql`  
	
3. Run & install the project parts
    - Frontend: 
      - `cd frontend && npm i`
      - Run the project `npm run dev`
    - Backend:
      - From the projects root folder `flight-search-project` go to backend folder `cd backend`
      - Run `npm i` then `npm run start:dev`

4. Access the frontend react app in browser with: `http://localhost:5173`
5. Access the backend node app (apollo server) in browser with: `http://localhost:4000/`
    - To view an example image of the sandbox with relevant queries, click the image: `./backend/graphql-sandbox-screenshot.JPG`
6. Redis should be running or otherwise install and run redis or see future improvement for details to run it in the docker environment.

# Architecture Overview #
The Flight Search application uses the following components on each section of the project.
 
## Frontend
  - `React` framework used to provide UI to the application for showing the flight search form and the search results
	- `Appolo Client` to communicate with the Appolo Server on the backend

## Backend API
  - `Node JS` with `Typescript` used for better code quality and project maintainability
	- `Apollo Server` has been used to handle the Apollo Client requests
    
## Database 
  - `PostgreSql` Database used to store flight details 
	- The PostgreSQL uses the following single table, however in future further tables can also be added to the database.
  ```sql
  - Flight
      id INT primary key generated by default as identity,
      flight_number VARCHAR(15),
      airline VARCHAR(100),
      departure_city VARCHAR(100),
      destination_city VARCHAR(100),
      departure_time TIMESTAMP,
      arrival_time TIMESTAMP,
      flight_distance INT,
      price FLOAT
  ```

## Cache Data
- On the backend, a Redis cache tool used to improve performance by caching the database queries for the API in memory


# Scalability #
- Caching tool used to reduce load on the database
- Projects are divided into two distinct, self-contained entities, each operating independently of the other


# Future Improvements #
- Frontend: 
  - Provide more css for better styling the page
  - Provide labels to understand each form options
  - Pagination or auto loading more flights as you scrolling down
  - Make the form and the entire page responsive
  - Provide further components such FlightComponent where each component summary or details resides
- Backend & DB:
  - Provide test cases for reliability
  - Create more tables to cover more areas such as manage customer details and bookings
  - Authentication for user login to see profile or history of flights and more
  - Security: Avoid keeping the database credentials in the project folder
  - Make the flight search query case-insensitive for better experience
  - Currently a console log is used to log the errors, in production us a logging framework
- Dockerization:
  - Get the docker engine or docker environment ready 
  - Put the docker-compose.yaml file in the root folder and the Dockerfile in the sub folders along with their configurations 
  - Deploy the docker image into AWS ECS or into other relevant cloud environments
